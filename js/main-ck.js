$(document).ready(function(){$("body").sideNav()});(function(e){var t=function(t,n){function y(){if(u.open===!1){console.log("state closed");i.open()}else{console.log("state open");i.close()}}function b(e){return e.substr(7,e.length-8).split(", ")}var r=e(t),i=this,s={dataAttrs:!1,prefix:"side-nav",burger:"burger",nav:"nav",app:"app",content:"content"},o=e.extend(s,n||{}),u={open:!1},a="data-"+o.prefix,f=o.burger,l=o.nav,c=o.app,h=o.content;if(o.dataAttrs===!1)var p=e("#"+f),d=e("#"+l),v=e("#"+c),m=e("#"+h),g=d.width();else var p=e("["+a+'="'+f+'"]'),d=e("["+a+'="'+l+'"]'),v=e("["+a+'="'+c+'"]'),m=e("["+a+'="'+h+'"]'),g=d.width();this.open=function(){console.log("open");e("body").removeClass("nav-closed").addClass("nav-open");if(Modernizr.csstransforms){v.css("transform","translate("+g+"px,0)");v.css("-webkit-transition","0.2s ease-out")}else v.css("left",g+"px");m.unbind("tap drag dragend");m.hammer().on("tap drag dragend",function(e){if(e.type==="tap"){console.log("tap!");y()}if(e.type==="dragend"){console.log("released");if(Math.abs(e.gesture.deltaX)>g/2){console.log("more than 50%");if(Modernizr.csstransforms){v.css("transform","translate(0px,0)");v.css("-webkit-transition","0.2s ease-out")}else v.css("left","0px");y()}else if(Modernizr.csstransforms){v.css("transform","translate("+g+"px,0)");v.css("-webkit-transition","0.2s ease-out")}else v.css("left",g+"px")}if(e.type==="drag"){e.gesture.preventDefault();var t=e.gesture.center.pageX,n=e.gesture.startEvent.center.pageX,r=t-(n-g);i(r);function i(e){Modernizr.csstransforms3d?v.css("transform","translate3d("+e+"px,0,0)"):Modernizr.csstransforms?v.css("transform","translate("+e+"px,0)"):v.css("left",e+"px");v.css("-webkit-transition","0s ease-in")}}});u.open=!0};this.close=function(){console.log("close");e("body").removeClass("nav-open").addClass("nav-closed");if(Modernizr.csstransforms){v.css("transform","translate(0px,0)");v.css("-webkit-transition","0.2s ease-out")}else v.css("left","0px");m.unbind("tap drag dragend");u.open=!1};this.listen=function(){var e=Hammer(document.body,{drag_lock_to_axis:!0});p.hammer().on("tap",function(e){y()});console.log("listening")};this.listen()};e.fn.sideNav=function(n){return this.each(function(){var r=e(this);if(r.data("sideNav"))return;var i=new t(this,n);r.data("sideNav",i)})}})(jQuery);